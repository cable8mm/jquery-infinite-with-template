!function(e){e.fn.infiniteTemplate=function(t){var n=e(this);if(!n.length)return n;var l=e.extend({},e.fn.infiniteTemplate.defaults,t),a=0,i=!1;function r(){if(!i){i=!0;var t=e.templates(l.templateSelector),r=l.query?"&"+l.query:"";e.ajax({url:l.dataPath+"?page="+a+r,method:l.method,success:function(r){r&&(e.each(r.data,function(a,i){l.templateHelpers&&(i=Object.assign(i,l.templateHelpers));var r=t.render(i);e(r).appendTo(n)}),a+=1),i=!1}})}}return e(window).on("scroll",function(){e(this).scrollTop()>e(document.body).height()-2*e(this).height()&&r()}),r(),this},e.fn.infiniteTemplate.defaults={dataPath:null,templateSelector:null,query:null,method:"GET",templateHelpers:null}}(jQuery);