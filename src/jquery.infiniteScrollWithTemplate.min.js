!function(e){e.fn.infiniteTemplate=function(t){var l=e(this);if(!l.length)return l;var n=e.extend({},e.fn.infiniteTemplate.defaults,t),a=0,o=!1;function i(){if(!o){o=!0;var t=e.templates(n.templateSelector),i=n.query?"&"+n.query:"";e.ajax({url:n.dataPath+"?page="+a+i,method:n.method,success:function(i){i&&(e.each(i.data,function(a,o){n.templateHelpers&&(o=Object.assign(o,n.templateHelpers));var i=t.render(o);e(i).appendTo(l)}),a+=1),o=!1}})}}return n.loadSelector?e(document).on("click",n.loadSelector,function(){i()}):e(window).on("scroll",function(){e(this).scrollTop()>e(document.body).height()-2*e(this).height()&&i()}),n.loadAtStart&&i(),this},e.fn.infiniteTemplate.defaults={dataPath:null,templateSelector:null,query:null,method:"GET",templateHelpers:null,loadAtStart:!0,loadSelector:null}}(jQuery);